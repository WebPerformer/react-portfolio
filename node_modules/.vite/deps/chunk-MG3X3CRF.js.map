{
  "version": 3,
  "sources": ["../../universal-cookie/es6/Cookies.js", "../../universal-cookie/es6/utils.js", "../../universal-cookie/es6/index.js"],
  "sourcesContent": ["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as cookie from 'cookie';\r\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies, options) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies, options);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function (parseOptions) {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie, parseOptions);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = __assign(__assign({}, options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\r\n        this.cookies = __assign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n", "import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies, options) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies, options);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n", "import Cookies from './Cookies';\r\nexport default Cookies;\r\n"],
  "mappings": "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",
  "names": []
}
